2020-03-31 11:58:47,505 WARN 76051 [-/::1/-/15ms POST /api/test] invalid csrf token. See https://eggjs.org/zh-cn/core/security.html#安全威胁csrf的防范
2020-03-31 11:58:47,513 WARN 76051 [-/::1/-/22ms POST /api/test] nodejs.ForbiddenError: invalid csrf token
    at Object.throw (/Users/tehe/egg-tehe/node_modules/koa/lib/context.js:97:11)
    at Object.assertCsrf (/Users/tehe/egg-tehe/node_modules/egg-security/app/extend/context.js:162:19)
    at csrf (/Users/tehe/egg-tehe/node_modules/egg-security/lib/middlewares/csrf.js:33:9)
    at dispatch (/Users/tehe/egg-tehe/node_modules/egg-security/node_modules/koa-compose/index.js:42:32)
    at /Users/tehe/egg-tehe/node_modules/egg-security/node_modules/koa-compose/index.js:34:12
    at dispatch (/Users/tehe/egg-tehe/node_modules/koa/node_modules/koa-compose/index.js:42:32)
    at session (/Users/tehe/egg-tehe/node_modules/koa-session/index.js:41:13)
    at dispatch (/Users/tehe/egg-tehe/node_modules/koa/node_modules/koa-compose/index.js:42:32)
    at overrideMethod (/Users/tehe/egg-tehe/node_modules/koa-override/index.js:38:12)
    at dispatch (/Users/tehe/egg-tehe/node_modules/koa/node_modules/koa-compose/index.js:42:32)
message: "invalid csrf token"
pid: 76051
hostname: bogon

2020-03-31 11:59:51,718 WARN 76051 [-/::1/-/76ms POST /api/test] nodejs.SyntaxError: Unexpected number in JSON at position 27, check bodyParser config
    at JSON.parse (<anonymous>)
    at parse (/Users/tehe/egg-tehe/node_modules/co-body/lib/json.js:57:17)
    at AsyncFunction.module.exports [as json] (/Users/tehe/egg-tehe/node_modules/co-body/lib/json.js:41:20)
    at process.internalTickCallback (internal/process/next_tick.js:77:7)
status: 400
body: "{\n\"name\":\"123\",\n\"password:\"456\"\n}"
pid: 76051
hostname: bogon

2020-03-31 12:00:13,613 WARN 76051 [-/::1/-/6ms POST /api/test] invalid csrf token. See https://eggjs.org/zh-cn/core/security.html#安全威胁csrf的防范
2020-03-31 12:00:13,614 WARN 76051 [-/::1/-/8ms POST /api/test] nodejs.ForbiddenError: invalid csrf token
    at Object.throw (/Users/tehe/egg-tehe/node_modules/koa/lib/context.js:97:11)
    at Object.assertCsrf (/Users/tehe/egg-tehe/node_modules/egg-security/app/extend/context.js:162:19)
    at csrf (/Users/tehe/egg-tehe/node_modules/egg-security/lib/middlewares/csrf.js:33:9)
    at dispatch (/Users/tehe/egg-tehe/node_modules/egg-security/node_modules/koa-compose/index.js:42:32)
    at /Users/tehe/egg-tehe/node_modules/egg-security/node_modules/koa-compose/index.js:34:12
    at dispatch (/Users/tehe/egg-tehe/node_modules/koa/node_modules/koa-compose/index.js:42:32)
    at session (/Users/tehe/egg-tehe/node_modules/koa-session/index.js:41:13)
    at dispatch (/Users/tehe/egg-tehe/node_modules/koa/node_modules/koa-compose/index.js:42:32)
    at overrideMethod (/Users/tehe/egg-tehe/node_modules/koa-override/index.js:38:12)
    at dispatch (/Users/tehe/egg-tehe/node_modules/koa/node_modules/koa-compose/index.js:42:32)
message: "invalid csrf token"
pid: 76051
hostname: bogon

2020-03-31 12:02:08,510 WARN 76098 [-/::1/-/49ms POST /api/test] invalid csrf token. See https://eggjs.org/zh-cn/core/security.html#安全威胁csrf的防范
2020-03-31 12:02:08,558 WARN 76098 [-/::1/-/65ms POST /api/test] nodejs.ForbiddenError: invalid csrf token
    at Object.throw (/Users/tehe/egg-tehe/node_modules/koa/lib/context.js:97:11)
    at Object.assertCsrf (/Users/tehe/egg-tehe/node_modules/egg-security/app/extend/context.js:162:19)
    at csrf (/Users/tehe/egg-tehe/node_modules/egg-security/lib/middlewares/csrf.js:33:9)
    at dispatch (/Users/tehe/egg-tehe/node_modules/egg-security/node_modules/koa-compose/index.js:42:32)
    at /Users/tehe/egg-tehe/node_modules/egg-security/node_modules/koa-compose/index.js:34:12
    at dispatch (/Users/tehe/egg-tehe/node_modules/koa/node_modules/koa-compose/index.js:42:32)
    at session (/Users/tehe/egg-tehe/node_modules/koa-session/index.js:41:13)
    at dispatch (/Users/tehe/egg-tehe/node_modules/koa/node_modules/koa-compose/index.js:42:32)
    at overrideMethod (/Users/tehe/egg-tehe/node_modules/koa-override/index.js:38:12)
    at dispatch (/Users/tehe/egg-tehe/node_modules/koa/node_modules/koa-compose/index.js:42:32)
message: "invalid csrf token"
pid: 76098
hostname: bogon

2020-03-31 12:02:54,044 WARN 76098 [-/::1/-/5ms POST /api/test] invalid csrf token. See https://eggjs.org/zh-cn/core/security.html#安全威胁csrf的防范
2020-03-31 12:02:54,050 WARN 76098 [-/::1/-/11ms POST /api/test] nodejs.ForbiddenError: invalid csrf token
    at Object.throw (/Users/tehe/egg-tehe/node_modules/koa/lib/context.js:97:11)
    at Object.assertCsrf (/Users/tehe/egg-tehe/node_modules/egg-security/app/extend/context.js:162:19)
    at csrf (/Users/tehe/egg-tehe/node_modules/egg-security/lib/middlewares/csrf.js:33:9)
    at dispatch (/Users/tehe/egg-tehe/node_modules/egg-security/node_modules/koa-compose/index.js:42:32)
    at /Users/tehe/egg-tehe/node_modules/egg-security/node_modules/koa-compose/index.js:34:12
    at dispatch (/Users/tehe/egg-tehe/node_modules/koa/node_modules/koa-compose/index.js:42:32)
    at session (/Users/tehe/egg-tehe/node_modules/koa-session/index.js:41:13)
    at dispatch (/Users/tehe/egg-tehe/node_modules/koa/node_modules/koa-compose/index.js:42:32)
    at overrideMethod (/Users/tehe/egg-tehe/node_modules/koa-override/index.js:38:12)
    at dispatch (/Users/tehe/egg-tehe/node_modules/koa/node_modules/koa-compose/index.js:42:32)
message: "invalid csrf token"
pid: 76098
hostname: bogon

2020-03-31 12:03:08,418 WARN 76098 [-/::1/-/0ms POST /api/test] invalid csrf token. See https://eggjs.org/zh-cn/core/security.html#安全威胁csrf的防范
2020-03-31 12:03:08,418 WARN 76098 [-/::1/-/1ms POST /api/test] nodejs.ForbiddenError: invalid csrf token
    at Object.throw (/Users/tehe/egg-tehe/node_modules/koa/lib/context.js:97:11)
    at Object.assertCsrf (/Users/tehe/egg-tehe/node_modules/egg-security/app/extend/context.js:162:19)
    at csrf (/Users/tehe/egg-tehe/node_modules/egg-security/lib/middlewares/csrf.js:33:9)
    at dispatch (/Users/tehe/egg-tehe/node_modules/egg-security/node_modules/koa-compose/index.js:42:32)
    at /Users/tehe/egg-tehe/node_modules/egg-security/node_modules/koa-compose/index.js:34:12
    at dispatch (/Users/tehe/egg-tehe/node_modules/koa/node_modules/koa-compose/index.js:42:32)
    at session (/Users/tehe/egg-tehe/node_modules/koa-session/index.js:41:13)
    at dispatch (/Users/tehe/egg-tehe/node_modules/koa/node_modules/koa-compose/index.js:42:32)
    at overrideMethod (/Users/tehe/egg-tehe/node_modules/koa-override/index.js:38:12)
    at dispatch (/Users/tehe/egg-tehe/node_modules/koa/node_modules/koa-compose/index.js:42:32)
message: "invalid csrf token"
pid: 76098
hostname: bogon

2020-03-31 12:04:09,826 WARN 76129 [-/::1/-/134ms POST /api/test] invalid csrf token. See https://eggjs.org/zh-cn/core/security.html#安全威胁csrf的防范
2020-03-31 12:04:09,841 WARN 76129 [-/::1/-/147ms POST /api/test] nodejs.ForbiddenError: invalid csrf token
    at Object.throw (/Users/tehe/egg-tehe/node_modules/koa/lib/context.js:97:11)
    at Object.assertCsrf (/Users/tehe/egg-tehe/node_modules/egg-security/app/extend/context.js:162:19)
    at csrf (/Users/tehe/egg-tehe/node_modules/egg-security/lib/middlewares/csrf.js:33:9)
    at dispatch (/Users/tehe/egg-tehe/node_modules/egg-security/node_modules/koa-compose/index.js:42:32)
    at /Users/tehe/egg-tehe/node_modules/egg-security/node_modules/koa-compose/index.js:34:12
    at dispatch (/Users/tehe/egg-tehe/node_modules/koa/node_modules/koa-compose/index.js:42:32)
    at session (/Users/tehe/egg-tehe/node_modules/koa-session/index.js:41:13)
    at dispatch (/Users/tehe/egg-tehe/node_modules/koa/node_modules/koa-compose/index.js:42:32)
    at overrideMethod (/Users/tehe/egg-tehe/node_modules/koa-override/index.js:38:12)
    at dispatch (/Users/tehe/egg-tehe/node_modules/koa/node_modules/koa-compose/index.js:42:32)
message: "invalid csrf token"
pid: 76129
hostname: bogon

2020-03-31 13:52:14,309 ERROR 76958 [-/::1/-/117ms POST /api/test] nodejs.TypeError: Cannot read property 'body' of undefined
    at UserController.test (/Users/tehe/egg-tehe/app/controller/user.js:28:34)
    at Object.callFn (/Users/tehe/egg-tehe/node_modules/egg-core/lib/utils/index.js:44:21)
    at Object.classControllerMiddleware (/Users/tehe/egg-tehe/node_modules/egg-core/lib/loader/mixin/controller.js:87:20)
    at Object.callFn (/Users/tehe/egg-tehe/node_modules/@eggjs/router/lib/utils.js:12:21)
    at wrappedController (/Users/tehe/egg-tehe/node_modules/@eggjs/router/lib/egg_router.js:322:18)
    at dispatch (/Users/tehe/egg-tehe/node_modules/koa-compose/index.js:44:32)
    at next (/Users/tehe/egg-tehe/node_modules/koa-compose/index.js:45:18)
    at /Users/tehe/egg-tehe/node_modules/@eggjs/router/lib/router.js:190:18
    at dispatch (/Users/tehe/egg-tehe/node_modules/koa-compose/index.js:44:32)
    at /Users/tehe/egg-tehe/node_modules/koa-compose/index.js:36:12

pid: 76958
hostname: bogon

2020-03-31 14:53:34,846 ERROR 77692 [-/127.0.0.1/-/1ms GET /] nodejs.PROTOCOL_SEQUENCE_TIMEOUTError: Handshake inactivity timeout
    at Handshake.<anonymous> (/Users/tehe/egg-tehe/node_modules/mysql/lib/protocol/Protocol.js:160:17)
    at Handshake.emit (events.js:188:13)
    at Handshake._onTimeout (/Users/tehe/egg-tehe/node_modules/mysql/lib/protocol/sequences/Sequence.js:124:8)
    at Timer._onTimeout (/Users/tehe/egg-tehe/node_modules/mysql/lib/protocol/Timer.js:32:23)
    at listOnTimeout (timers.js:324:15)
    at processTimers (timers.js:268:5)
    --------------------
    at Protocol._enqueue (/Users/tehe/egg-tehe/node_modules/mysql/lib/protocol/Protocol.js:144:48)
    at Protocol.handshake (/Users/tehe/egg-tehe/node_modules/mysql/lib/protocol/Protocol.js:51:23)
    at PoolConnection.connect (/Users/tehe/egg-tehe/node_modules/mysql/lib/Connection.js:116:18)
    at Pool.getConnection (/Users/tehe/egg-tehe/node_modules/mysql/lib/Pool.js:48:16)
    at /Users/tehe/egg-tehe/node_modules/ali-rds/node_modules/pify/index.js:29:7
    at new Promise (<anonymous>)
    at Pool.<anonymous> (/Users/tehe/egg-tehe/node_modules/ali-rds/node_modules/pify/index.js:12:10)
    at Pool.ret [as getConnection] (/Users/tehe/egg-tehe/node_modules/ali-rds/node_modules/pify/index.js:56:34)
    at Pool.query (/Users/tehe/egg-tehe/node_modules/mysql/lib/Pool.js:202:8)
    at /Users/tehe/egg-tehe/node_modules/ali-rds/node_modules/pify/index.js:29:7
    sql: select now() as currentTime;
code: "PROTOCOL_SEQUENCE_TIMEOUT"
fatal: true
timeout: 10000
name: "PROTOCOL_SEQUENCE_TIMEOUTError"
pid: 77692
hostname: bogon

2020-03-31 14:53:48,643 ERROR 77705 [-/127.0.0.1/-/1ms GET /] nodejs.ECONNREFUSEDError: connect ECONNREFUSED 127.0.0.1:3306
    at TCPConnectWrap.afterConnect [as oncomplete] (net.js:1082:14)
    --------------------
    at Protocol._enqueue (/Users/tehe/egg-tehe/node_modules/mysql/lib/protocol/Protocol.js:144:48)
    at Protocol.handshake (/Users/tehe/egg-tehe/node_modules/mysql/lib/protocol/Protocol.js:51:23)
    at PoolConnection.connect (/Users/tehe/egg-tehe/node_modules/mysql/lib/Connection.js:116:18)
    at Pool.getConnection (/Users/tehe/egg-tehe/node_modules/mysql/lib/Pool.js:48:16)
    at /Users/tehe/egg-tehe/node_modules/ali-rds/node_modules/pify/index.js:29:7
    at new Promise (<anonymous>)
    at Pool.<anonymous> (/Users/tehe/egg-tehe/node_modules/ali-rds/node_modules/pify/index.js:12:10)
    at Pool.ret [as getConnection] (/Users/tehe/egg-tehe/node_modules/ali-rds/node_modules/pify/index.js:56:34)
    at Pool.query (/Users/tehe/egg-tehe/node_modules/mysql/lib/Pool.js:202:8)
    at /Users/tehe/egg-tehe/node_modules/ali-rds/node_modules/pify/index.js:29:7
    sql: select now() as currentTime;
errno: "ECONNREFUSED"
code: "ECONNREFUSED"
syscall: "connect"
address: "127.0.0.1"
port: 3306
fatal: true
name: "ECONNREFUSEDError"
pid: 77705
hostname: bogon

2020-03-31 17:15:30,056 ERROR 84220 [-/127.0.0.1/-/1ms GET /] nodejs.ER_NOT_SUPPORTED_AUTH_MODEError: ER_NOT_SUPPORTED_AUTH_MODE: Client does not support authentication protocol requested by server; consider upgrading MySQL client
    at Handshake.Sequence._packetToError (/Users/tehe/egg-tehe/node_modules/mysql/lib/protocol/sequences/Sequence.js:47:14)
    at Handshake.ErrorPacket (/Users/tehe/egg-tehe/node_modules/mysql/lib/protocol/sequences/Handshake.js:123:18)
    at Protocol._parsePacket (/Users/tehe/egg-tehe/node_modules/mysql/lib/protocol/Protocol.js:291:23)
    at Parser._parsePacket (/Users/tehe/egg-tehe/node_modules/mysql/lib/protocol/Parser.js:433:10)
    at Parser.write (/Users/tehe/egg-tehe/node_modules/mysql/lib/protocol/Parser.js:43:10)
    at Protocol.write (/Users/tehe/egg-tehe/node_modules/mysql/lib/protocol/Protocol.js:38:16)
    at Socket.<anonymous> (/Users/tehe/egg-tehe/node_modules/mysql/lib/Connection.js:88:28)
    at Socket.<anonymous> (/Users/tehe/egg-tehe/node_modules/mysql/lib/Connection.js:526:10)
    at Socket.emit (events.js:188:13)
    at addChunk (_stream_readable.js:288:12)
    --------------------
    at Protocol._enqueue (/Users/tehe/egg-tehe/node_modules/mysql/lib/protocol/Protocol.js:144:48)
    at Protocol.handshake (/Users/tehe/egg-tehe/node_modules/mysql/lib/protocol/Protocol.js:51:23)
    at PoolConnection.connect (/Users/tehe/egg-tehe/node_modules/mysql/lib/Connection.js:116:18)
    at Pool.getConnection (/Users/tehe/egg-tehe/node_modules/mysql/lib/Pool.js:48:16)
    at /Users/tehe/egg-tehe/node_modules/ali-rds/node_modules/pify/index.js:29:7
    at new Promise (<anonymous>)
    at Pool.<anonymous> (/Users/tehe/egg-tehe/node_modules/ali-rds/node_modules/pify/index.js:12:10)
    at Pool.ret [as getConnection] (/Users/tehe/egg-tehe/node_modules/ali-rds/node_modules/pify/index.js:56:34)
    at Pool.query (/Users/tehe/egg-tehe/node_modules/mysql/lib/Pool.js:202:8)
    at /Users/tehe/egg-tehe/node_modules/ali-rds/node_modules/pify/index.js:29:7
    sql: select now() as currentTime;
code: "ER_NOT_SUPPORTED_AUTH_MODE"
errno: 1251
sqlMessage: "Client does not support authentication protocol requested by server; consider upgrading MySQL client"
sqlState: "08004"
fatal: true
name: "ER_NOT_SUPPORTED_AUTH_MODEError"
pid: 84220
hostname: bogon

2020-03-31 17:15:37,479 ERROR 84228 [-/127.0.0.1/-/1ms GET /] nodejs.ER_BAD_DB_ERRORError: ER_BAD_DB_ERROR: Unknown database 'test'
    at Handshake.Sequence._packetToError (/Users/tehe/egg-tehe/node_modules/mysql/lib/protocol/sequences/Sequence.js:47:14)
    at Handshake.ErrorPacket (/Users/tehe/egg-tehe/node_modules/mysql/lib/protocol/sequences/Handshake.js:123:18)
    at Protocol._parsePacket (/Users/tehe/egg-tehe/node_modules/mysql/lib/protocol/Protocol.js:291:23)
    at Parser._parsePacket (/Users/tehe/egg-tehe/node_modules/mysql/lib/protocol/Parser.js:433:10)
    at Parser.write (/Users/tehe/egg-tehe/node_modules/mysql/lib/protocol/Parser.js:43:10)
    at Protocol.write (/Users/tehe/egg-tehe/node_modules/mysql/lib/protocol/Protocol.js:38:16)
    at Socket.<anonymous> (/Users/tehe/egg-tehe/node_modules/mysql/lib/Connection.js:88:28)
    at Socket.<anonymous> (/Users/tehe/egg-tehe/node_modules/mysql/lib/Connection.js:526:10)
    at Socket.emit (events.js:188:13)
    at addChunk (_stream_readable.js:288:12)
    --------------------
    at Protocol._enqueue (/Users/tehe/egg-tehe/node_modules/mysql/lib/protocol/Protocol.js:144:48)
    at Protocol.handshake (/Users/tehe/egg-tehe/node_modules/mysql/lib/protocol/Protocol.js:51:23)
    at PoolConnection.connect (/Users/tehe/egg-tehe/node_modules/mysql/lib/Connection.js:116:18)
    at Pool.getConnection (/Users/tehe/egg-tehe/node_modules/mysql/lib/Pool.js:48:16)
    at /Users/tehe/egg-tehe/node_modules/ali-rds/node_modules/pify/index.js:29:7
    at new Promise (<anonymous>)
    at Pool.<anonymous> (/Users/tehe/egg-tehe/node_modules/ali-rds/node_modules/pify/index.js:12:10)
    at Pool.ret [as getConnection] (/Users/tehe/egg-tehe/node_modules/ali-rds/node_modules/pify/index.js:56:34)
    at Pool.query (/Users/tehe/egg-tehe/node_modules/mysql/lib/Pool.js:202:8)
    at /Users/tehe/egg-tehe/node_modules/ali-rds/node_modules/pify/index.js:29:7
    sql: select now() as currentTime;
code: "ER_BAD_DB_ERROR"
errno: 1049
sqlMessage: "Unknown database 'test'"
sqlState: "42000"
fatal: true
name: "ER_BAD_DB_ERRORError"
pid: 84228
hostname: bogon

